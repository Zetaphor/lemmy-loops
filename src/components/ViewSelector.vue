<template>
  <div class="w-full position fixed bottom-16">
    <ul class="menu w-full bg-gray-700 rounded-t-lg">
      <li @click="setView('All')" :class="site.postView == 'All' ? 'bg-gray-500' : ''">
        <a>
          <svg class="w-7 h-7 stroke-current fill-current" viewBox="5 -5 54 70" xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">
            <path
              d="M64,24.14c0-3.372-2.742-6.115-6.113-6.115c-0.243,0-0.481,0.018-0.717,0.046l-6.185-7.727  c0.614-0.987,0.976-2.147,0.976-3.394c0-3.556-2.894-6.449-6.449-6.449c-3.048,0-5.603,2.127-6.272,4.974l-15.09,0.286  c-0.655-2.109-2.602-3.654-4.924-3.654c-2.855,0-5.178,2.323-5.178,5.178c0,0.931,0.267,1.793,0.698,2.549L4.306,26.005  C1.866,26.424,0,28.54,0,31.097c0,2.56,1.87,4.677,4.313,5.092l6.816,10.377c-0.852,1.135-1.363,2.538-1.363,4.063  c0,3.739,3.043,6.781,6.783,6.781c2.253,0,4.248-1.107,5.482-2.802l10.304,3.73c0.517,2.928,3.074,5.161,6.148,5.161  c3.446,0,6.25-2.804,6.25-6.25c0-0.219-0.012-0.436-0.034-0.648l4.666-3.129c0.859,0.507,1.857,0.803,2.925,0.803  c3.186,0,5.777-2.594,5.777-5.781c0-2.168-1.201-4.06-2.971-5.049l3.943-13.302C61.861,29.601,64,27.117,64,24.14z M49.703,43.33  L39.246,30.318c0.616-0.751,1.06-1.651,1.271-2.635l11.503-1.826c0.564,1.925,2.052,3.458,3.95,4.086l-3.787,12.775  C51.292,42.734,50.452,42.953,49.703,43.33z M19.778,44.662c-0.505-0.274-1.052-0.479-1.624-0.619l1.068-13.719l9.621-1.263  c0.375,0.78,0.905,1.471,1.554,2.029L19.778,44.662z M13.432,44.608l-5.872-8.939c1.541-0.807,2.616-2.354,2.757-4.176l5.865-0.77  l-1.033,13.266C14.543,44.117,13.968,44.329,13.432,44.608z M41.194,11.727l-5.552,8.557c-0.389-0.076-0.79-0.119-1.201-0.119  c-0.468,0-0.923,0.057-1.361,0.155L23.787,9.684c0.155-0.293,0.28-0.601,0.377-0.924l15.088-0.285  C39.563,9.75,40.251,10.874,41.194,11.727z M34.441,29.597c-1.772,0-3.215-1.443-3.215-3.217c0-1.772,1.442-3.215,3.215-3.215  s3.215,1.442,3.215,3.215C37.656,28.154,36.214,29.597,34.441,29.597z M19.46,27.267l1.169-15.021  c0.366-0.104,0.713-0.246,1.042-0.424l8.659,9.911c-1.225,1.084-2.016,2.641-2.09,4.383L19.46,27.267z M17.625,12.185L16.42,27.667  l-6.757,0.887c-0.495-0.869-1.227-1.574-2.116-2.037l9.42-14.593C17.178,12.027,17.398,12.11,17.625,12.185z M61,24.14  c0,1.718-1.396,3.115-3.113,3.115c-1.719,0-3.117-1.397-3.117-3.115s1.398-3.115,3.117-3.115C59.604,21.024,61,22.422,61,24.14z   M51.913,22.836l-11.504,1.826c-0.353-1.225-1.068-2.296-2.028-3.085l5.454-8.407c0.535,0.145,1.096,0.229,1.677,0.229  c1.219,0,2.354-0.346,3.328-0.936l5.415,6.766C53.086,20.097,52.233,21.367,51.913,22.836z M45.512,3.501  c1.902,0,3.449,1.547,3.449,3.449s-1.547,3.449-3.449,3.449s-3.449-1.547-3.449-3.449S43.609,3.501,45.512,3.501z M19.225,5.106  c1.202,0,2.18,0.977,2.18,2.178c0,1.202-0.978,2.18-2.18,2.18c-1.201,0-2.178-0.978-2.178-2.18  C17.047,6.083,18.024,5.106,19.225,5.106z M3,31.097c0-1.202,0.978-2.18,2.18-2.18c1.201,0,2.178,0.978,2.178,2.18  s-0.977,2.18-2.178,2.18C3.978,33.276,3,32.298,3,31.097z M16.549,54.409c-2.086,0-3.783-1.696-3.783-3.781  c0-2.087,1.697-3.785,3.783-3.785c2.087,0,3.785,1.698,3.785,3.785C20.334,52.713,18.636,54.409,16.549,54.409z M22.033,46.649  l11.105-14.193c0.012,0.002,0.022,0.007,0.034,0.009l3.55,18.79c-1.946,0.573-3.496,2.067-4.149,3.978l-9.355-3.387  c0.072-0.396,0.116-0.802,0.116-1.219C23.334,49.141,22.848,47.769,22.033,46.649z M38.483,60.499c-1.792,0-3.25-1.458-3.25-3.25  s1.458-3.25,3.25-3.25s3.25,1.458,3.25,3.25S40.275,60.499,38.483,60.499z M39.751,51.129l-3.549-18.79  c0.218-0.064,0.432-0.138,0.639-0.225l10.618,13.212c-0.599,0.911-0.95,1.998-0.95,3.167c0,1.014,0.264,1.966,0.724,2.795  l-3.605,2.418C42.728,52.406,41.352,51.46,39.751,51.129z M52.29,51.274c-1.533,0-2.781-1.248-2.781-2.781s1.248-2.781,2.781-2.781  c1.531,0,2.777,1.248,2.777,2.781S53.821,51.274,52.29,51.274z" />
          </svg>
          All
        </a>
      </li>
      <li @click="setView('Local')" :class="site.postView == 'Local' ? 'bg-gray-500' : ''">
        <a>
          <svg class="w-7 h-7 stroke-current fill-current" viewBox="0 -15 100 125" xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">
            <path
              d="M87,95H61c-2.2,0-4-1.8-4-4V73c0-3.9-3.1-7-7-7s-7,3.1-7,7v18c0,2.2-1.8,4-4,4H13c-2.2,0-4-1.8-4-4V53.1    c0-3,1.1-5.8,3.1-8L47,6.3C47.8,5.5,48.9,5,50,5s2.2,0.5,3,1.3L87.9,45c2,2.2,3.1,5.1,3.1,8V91C91,93.2,89.2,95,87,95z M65,87h18    V53.1c0-1-0.4-1.9-1-2.7L50,15L18,50.4c-0.7,0.7-1,1.7-1,2.7V87h18V73c0-8.3,6.7-15,15-15s15,6.7,15,15V87z" />
          </svg>
          <span>Local</span>
        </a>
      </li>
      <li v-if="user.authenticated" @click="setView('Subscribed')"
        :class="site.postView == 'Subscribed' ? 'bg-gray-500' : ''">
        <a>
          <svg viewBox="0 -20 90 115" class="w-7 h-7 stroke-current fill-current" xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">
            <path
              d="M94.26,50c0-3.613-2.931-6.544-6.543-6.544c-2.891,0-5.342,1.877-6.205,4.477H68.415c-0.396-3.563-1.81-6.822-3.938-9.486  l9.266-9.266c2.451,1.227,5.511,0.822,7.554-1.222c2.557-2.556,2.557-6.699,0-9.255c-2.556-2.557-6.699-2.557-9.253-0.001  c-2.046,2.045-2.451,5.104-1.223,7.556l-9.265,9.265c-2.663-2.13-5.926-3.543-9.489-3.939V18.491  c2.602-0.866,4.479-3.315,4.479-6.206c0-3.615-2.931-6.545-6.543-6.545c-3.616,0-6.547,2.93-6.547,6.545  c0,2.891,1.877,5.34,4.479,6.206v13.093c-3.563,0.396-6.823,1.81-9.486,3.939l-9.266-9.265c1.226-2.452,0.82-5.511-1.223-7.555  c-2.556-2.557-6.7-2.557-9.256,0c-2.556,2.556-2.556,6.699,0,9.255c2.046,2.044,5.104,2.448,7.554,1.223l9.266,9.265  c-2.129,2.664-3.542,5.923-3.938,9.486H18.492c-0.866-2.6-3.314-4.477-6.205-4.477c-3.616,0-6.547,2.931-6.547,6.544  c0,3.615,2.931,6.543,6.547,6.543c2.891,0,5.339-1.877,6.205-4.477h13.093c0.396,3.564,1.81,6.822,3.938,9.486l-9.266,9.266  c-2.451-1.227-5.508-0.824-7.554,1.223c-2.556,2.557-2.556,6.699,0,9.256s6.7,2.557,9.256,0c2.043-2.047,2.448-5.105,1.223-7.557  l9.266-9.266c2.663,2.133,5.923,3.545,9.486,3.941v13.092c-2.603,0.867-4.479,3.316-4.479,6.207c0,3.615,2.931,6.545,6.547,6.545  c3.612,0,6.543-2.93,6.543-6.545c0-2.891-1.877-5.34-4.479-6.207V68.416c3.563-0.396,6.826-1.809,9.489-3.941l9.265,9.266  c-1.229,2.451-0.823,5.51,1.223,7.557c2.554,2.557,6.697,2.557,9.253,0c2.557-2.557,2.557-6.699,0-9.256  c-2.043-2.047-5.103-2.449-7.554-1.223l-9.266-9.266c2.129-2.664,3.543-5.922,3.938-9.486h13.097c0.863,2.6,3.314,4.477,6.205,4.477  C91.329,56.543,94.26,53.615,94.26,50z M64.4,50c0,7.939-6.457,14.4-14.398,14.4S35.6,57.939,35.6,50  c0-7.94,6.46-14.401,14.401-14.401S64.4,42.06,64.4,50z" />
          </svg>
          <span>Subscribed</span>
        </a>
      </li>
    </ul>
  </div>
</template>

<script setup>
import { useSiteStore } from '@/stores/site'
import { useUserStore } from '@/stores/api/user'

const site = useSiteStore()
const user = useUserStore()

const emit = defineEmits(['setView'])

function setView(view) {
  site.setPostView(view)
  emit('setView')
}
</script>