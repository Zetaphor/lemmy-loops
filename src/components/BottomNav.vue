<template>
  <ViewSelector v-if="showViewSelector" ref="viewSelectorEl" @setView="viewUpdated" />
  <SortSelector v-if="showSortSelector" ref="sortSelectorEl" @setSort="sortUpdated" />

  <div class="btm-nav">
    <button v-if="site.postView == 'All'" @click="toggleViewSelector">
      <svg class="w-20 h-full stroke-current fill-current" viewBox="-5 -20 74 90" xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">
        <path
          d="M64,24.14c0-3.372-2.742-6.115-6.113-6.115c-0.243,0-0.481,0.018-0.717,0.046l-6.185-7.727  c0.614-0.987,0.976-2.147,0.976-3.394c0-3.556-2.894-6.449-6.449-6.449c-3.048,0-5.603,2.127-6.272,4.974l-15.09,0.286  c-0.655-2.109-2.602-3.654-4.924-3.654c-2.855,0-5.178,2.323-5.178,5.178c0,0.931,0.267,1.793,0.698,2.549L4.306,26.005  C1.866,26.424,0,28.54,0,31.097c0,2.56,1.87,4.677,4.313,5.092l6.816,10.377c-0.852,1.135-1.363,2.538-1.363,4.063  c0,3.739,3.043,6.781,6.783,6.781c2.253,0,4.248-1.107,5.482-2.802l10.304,3.73c0.517,2.928,3.074,5.161,6.148,5.161  c3.446,0,6.25-2.804,6.25-6.25c0-0.219-0.012-0.436-0.034-0.648l4.666-3.129c0.859,0.507,1.857,0.803,2.925,0.803  c3.186,0,5.777-2.594,5.777-5.781c0-2.168-1.201-4.06-2.971-5.049l3.943-13.302C61.861,29.601,64,27.117,64,24.14z M49.703,43.33  L39.246,30.318c0.616-0.751,1.06-1.651,1.271-2.635l11.503-1.826c0.564,1.925,2.052,3.458,3.95,4.086l-3.787,12.775  C51.292,42.734,50.452,42.953,49.703,43.33z M19.778,44.662c-0.505-0.274-1.052-0.479-1.624-0.619l1.068-13.719l9.621-1.263  c0.375,0.78,0.905,1.471,1.554,2.029L19.778,44.662z M13.432,44.608l-5.872-8.939c1.541-0.807,2.616-2.354,2.757-4.176l5.865-0.77  l-1.033,13.266C14.543,44.117,13.968,44.329,13.432,44.608z M41.194,11.727l-5.552,8.557c-0.389-0.076-0.79-0.119-1.201-0.119  c-0.468,0-0.923,0.057-1.361,0.155L23.787,9.684c0.155-0.293,0.28-0.601,0.377-0.924l15.088-0.285  C39.563,9.75,40.251,10.874,41.194,11.727z M34.441,29.597c-1.772,0-3.215-1.443-3.215-3.217c0-1.772,1.442-3.215,3.215-3.215  s3.215,1.442,3.215,3.215C37.656,28.154,36.214,29.597,34.441,29.597z M19.46,27.267l1.169-15.021  c0.366-0.104,0.713-0.246,1.042-0.424l8.659,9.911c-1.225,1.084-2.016,2.641-2.09,4.383L19.46,27.267z M17.625,12.185L16.42,27.667  l-6.757,0.887c-0.495-0.869-1.227-1.574-2.116-2.037l9.42-14.593C17.178,12.027,17.398,12.11,17.625,12.185z M61,24.14  c0,1.718-1.396,3.115-3.113,3.115c-1.719,0-3.117-1.397-3.117-3.115s1.398-3.115,3.117-3.115C59.604,21.024,61,22.422,61,24.14z   M51.913,22.836l-11.504,1.826c-0.353-1.225-1.068-2.296-2.028-3.085l5.454-8.407c0.535,0.145,1.096,0.229,1.677,0.229  c1.219,0,2.354-0.346,3.328-0.936l5.415,6.766C53.086,20.097,52.233,21.367,51.913,22.836z M45.512,3.501  c1.902,0,3.449,1.547,3.449,3.449s-1.547,3.449-3.449,3.449s-3.449-1.547-3.449-3.449S43.609,3.501,45.512,3.501z M19.225,5.106  c1.202,0,2.18,0.977,2.18,2.178c0,1.202-0.978,2.18-2.18,2.18c-1.201,0-2.178-0.978-2.178-2.18  C17.047,6.083,18.024,5.106,19.225,5.106z M3,31.097c0-1.202,0.978-2.18,2.18-2.18c1.201,0,2.178,0.978,2.178,2.18  s-0.977,2.18-2.178,2.18C3.978,33.276,3,32.298,3,31.097z M16.549,54.409c-2.086,0-3.783-1.696-3.783-3.781  c0-2.087,1.697-3.785,3.783-3.785c2.087,0,3.785,1.698,3.785,3.785C20.334,52.713,18.636,54.409,16.549,54.409z M22.033,46.649  l11.105-14.193c0.012,0.002,0.022,0.007,0.034,0.009l3.55,18.79c-1.946,0.573-3.496,2.067-4.149,3.978l-9.355-3.387  c0.072-0.396,0.116-0.802,0.116-1.219C23.334,49.141,22.848,47.769,22.033,46.649z M38.483,60.499c-1.792,0-3.25-1.458-3.25-3.25  s1.458-3.25,3.25-3.25s3.25,1.458,3.25,3.25S40.275,60.499,38.483,60.499z M39.751,51.129l-3.549-18.79  c0.218-0.064,0.432-0.138,0.639-0.225l10.618,13.212c-0.599,0.911-0.95,1.998-0.95,3.167c0,1.014,0.264,1.966,0.724,2.795  l-3.605,2.418C42.728,52.406,41.352,51.46,39.751,51.129z M52.29,51.274c-1.533,0-2.781-1.248-2.781-2.781s1.248-2.781,2.781-2.781  c1.531,0,2.777,1.248,2.777,2.781S53.821,51.274,52.29,51.274z" />
      </svg>
      <span class="btm-nav-label">All</span>
    </button>
    <button v-else-if="site.postView == 'Local'" @click="toggleViewSelector">
      <svg class="w-20 h-full stroke-current fill-current" viewBox="0 -25 100 125" xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">
        <path
          d="M87,95H61c-2.2,0-4-1.8-4-4V73c0-3.9-3.1-7-7-7s-7,3.1-7,7v18c0,2.2-1.8,4-4,4H13c-2.2,0-4-1.8-4-4V53.1    c0-3,1.1-5.8,3.1-8L47,6.3C47.8,5.5,48.9,5,50,5s2.2,0.5,3,1.3L87.9,45c2,2.2,3.1,5.1,3.1,8V91C91,93.2,89.2,95,87,95z M65,87h18    V53.1c0-1-0.4-1.9-1-2.7L50,15L18,50.4c-0.7,0.7-1,1.7-1,2.7V87h18V73c0-8.3,6.7-15,15-15s15,6.7,15,15V87z" />
      </svg>
      <span class="btm-nav-label">Local</span>
    </button>
    <button v-else-if="site.postView == 'Subscribed'" @click="toggleViewSelector">
      <svg viewBox="0 -20 90 115" class="w-20 h-full stroke-current fill-current" xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">
        <path
          d="M94.26,50c0-3.613-2.931-6.544-6.543-6.544c-2.891,0-5.342,1.877-6.205,4.477H68.415c-0.396-3.563-1.81-6.822-3.938-9.486  l9.266-9.266c2.451,1.227,5.511,0.822,7.554-1.222c2.557-2.556,2.557-6.699,0-9.255c-2.556-2.557-6.699-2.557-9.253-0.001  c-2.046,2.045-2.451,5.104-1.223,7.556l-9.265,9.265c-2.663-2.13-5.926-3.543-9.489-3.939V18.491  c2.602-0.866,4.479-3.315,4.479-6.206c0-3.615-2.931-6.545-6.543-6.545c-3.616,0-6.547,2.93-6.547,6.545  c0,2.891,1.877,5.34,4.479,6.206v13.093c-3.563,0.396-6.823,1.81-9.486,3.939l-9.266-9.265c1.226-2.452,0.82-5.511-1.223-7.555  c-2.556-2.557-6.7-2.557-9.256,0c-2.556,2.556-2.556,6.699,0,9.255c2.046,2.044,5.104,2.448,7.554,1.223l9.266,9.265  c-2.129,2.664-3.542,5.923-3.938,9.486H18.492c-0.866-2.6-3.314-4.477-6.205-4.477c-3.616,0-6.547,2.931-6.547,6.544  c0,3.615,2.931,6.543,6.547,6.543c2.891,0,5.339-1.877,6.205-4.477h13.093c0.396,3.564,1.81,6.822,3.938,9.486l-9.266,9.266  c-2.451-1.227-5.508-0.824-7.554,1.223c-2.556,2.557-2.556,6.699,0,9.256s6.7,2.557,9.256,0c2.043-2.047,2.448-5.105,1.223-7.557  l9.266-9.266c2.663,2.133,5.923,3.545,9.486,3.941v13.092c-2.603,0.867-4.479,3.316-4.479,6.207c0,3.615,2.931,6.545,6.547,6.545  c3.612,0,6.543-2.93,6.543-6.545c0-2.891-1.877-5.34-4.479-6.207V68.416c3.563-0.396,6.826-1.809,9.489-3.941l9.265,9.266  c-1.229,2.451-0.823,5.51,1.223,7.557c2.554,2.557,6.697,2.557,9.253,0c2.557-2.557,2.557-6.699,0-9.256  c-2.043-2.047-5.103-2.449-7.554-1.223l-9.266-9.266c2.129-2.664,3.543-5.922,3.938-9.486h13.097c0.863,2.6,3.314,4.477,6.205,4.477  C91.329,56.543,94.26,53.615,94.26,50z M64.4,50c0,7.939-6.457,14.4-14.398,14.4S35.6,57.939,35.6,50  c0-7.94,6.46-14.401,14.401-14.401S64.4,42.06,64.4,50z" />
      </svg>
      <span class="btm-nav-label">Subscribed</span>
    </button>

    <button v-if="site.postSort == 'New'" @click="toggleSortSelector">
      <svg class="w-20 h-full stroke-current fill-current" xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="550 200 800 1300">
        <path
          d="M733.652,1243.706c-8.322,0-15.774-5.153-18.712-12.939c-34.836-92.316-99.33-161.958-147.299-204.124    c-52.132-45.825-95.956-69.628-96.392-69.863c-6.478-3.488-10.518-10.252-10.518-17.609s4.04-14.121,10.518-17.609    c0.43-0.232,44.984-24.522,97.202-70.577c47.678-42.051,111.796-111.475,146.489-203.411c2.938-7.786,10.39-12.939,18.712-12.939    s15.774,5.153,18.712,12.939c34.836,92.316,99.33,161.958,147.299,204.125c52.132,45.825,95.956,69.628,96.392,69.863    c6.478,3.488,10.518,10.252,10.518,17.609s-4.04,14.121-10.518,17.609c-0.43,0.232-44.984,24.522-97.202,70.577    c-47.678,42.05-111.796,111.475-146.489,203.411C749.426,1238.553,741.974,1243.706,733.652,1243.706z M519.022,939.17    c19.016,12.524,45.748,31.692,75.028,57.43c32.603,28.659,61.654,59.604,86.346,91.974c20.924,27.431,38.744,55.946,53.256,85.184    c14.512-29.237,32.333-57.753,53.256-85.184c24.691-32.37,53.742-63.314,86.346-91.974c29.28-25.738,56.012-44.906,75.028-57.43    c-19.016-12.524-45.748-31.692-75.028-57.43c-32.603-28.66-61.654-59.604-86.346-91.974    c-20.924-27.431-38.744-55.946-53.256-85.184c-14.512,29.237-32.332,57.753-53.256,85.184    c-24.691,32.37-53.742,63.314-86.346,91.974C564.77,907.479,538.038,926.646,519.022,939.17z" />
        <path
          d="M1101.016,1456.167c-8.322,0-15.774-5.153-18.712-12.939c-28.647-75.916-104.481-117.802-105.244-118.217    c-6.454-3.505-10.484-10.275-10.47-17.62c0.013-7.345,4.035-14.1,10.502-17.582c0.731-0.397,76.565-42.284,105.213-118.2    c2.938-7.786,10.39-12.939,18.712-12.939s15.774,5.153,18.712,12.939c28.815,76.359,104.452,117.791,105.213,118.2    c6.478,3.488,10.518,10.252,10.518,17.609c0,7.358-4.04,14.121-10.518,17.609c-0.731,0.397-76.565,42.284-105.213,118.2    C1116.79,1451.014,1109.337,1456.167,1101.016,1456.167z M1023.087,1307.418c22.39,16.466,54.209,44.368,77.929,83.446    c23.72-39.078,55.539-66.979,77.929-83.446c-22.39-16.467-54.209-44.369-77.929-83.446    C1077.296,1263.05,1045.477,1290.952,1023.087,1307.418z" />
        <path
          d="M1329.387,1011.09c-8.322,0-15.774-5.153-18.712-12.939c-49.533-131.262-179.356-202.377-180.662-203.08    c-6.478-3.488-10.518-10.252-10.518-17.609c0-7.358,4.04-14.121,10.518-17.609c0.311-0.168,33.443-18.254,72.248-52.517    c35.3-31.168,82.764-82.59,108.414-150.563c2.938-7.786,10.39-12.939,18.712-12.939s15.774,5.153,18.712,12.939    c25.65,67.973,73.114,119.395,108.414,150.563c38.805,34.263,71.937,52.349,72.267,52.527    c6.464,3.499,10.498,10.266,10.489,17.616c-0.008,7.35-4.037,14.108-10.508,17.593c-0.311,0.168-33.443,18.254-72.248,52.518    c-35.3,31.168-82.764,82.59-108.414,150.563C1345.161,1005.938,1337.709,1011.09,1329.387,1011.09z M1177.188,777.462    c13.792,9.402,31.53,22.543,50.677,39.375c31.586,27.765,72.035,70.316,101.522,125.889    c29.488-55.572,69.936-98.124,101.522-125.889c19.147-16.832,36.885-29.972,50.677-39.375    c-13.792-9.402-31.529-22.543-50.677-39.375c-31.586-27.765-72.034-70.316-101.522-125.889    c-29.487,55.573-69.936,98.124-101.522,125.889C1208.718,754.919,1190.98,768.06,1177.188,777.462z" />
      </svg>
      <span class="btm-nav-label">New</span>
    </button>
    <button v-else-if="site.postSort == 'Hot'" @click="toggleSortSelector">
      <svg class="w-20 h-full stroke-current fill-current" viewBox="-10 935 110 115" xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">
        <path
          d="m 55.84375,957.3541 c -6.2279,2.7911 -11.510013,12.89498 -12.78125,18.65793 -0.517671,2.51086 -0.587462,4.97528 -0.4375,7.43816 -0.830146,-1.71931 -1.44833,-3.69513 -1.625,-6.31307 -0.07272,-1.10974 -0.816578,-2.14873 -1.843631,-2.57509 -1.027052,-0.42636 -2.287966,-0.21962 -3.125119,0.51241 C 24.860229,984.81407 18,999.47201 18,1013.7654 c 0,15.7578 9.070082,26.1761 21.96875,33.2217 1.096612,0.6123 2.578323,0.4354 3.500105,-0.4177 0.921781,-0.853 1.212779,-2.3167 0.687395,-3.4576 C 43.494096,1041.659 43,1040.2723 43,1038.7677 c 0,-4.9676 3.123256,-10.2341 7,-12.8137 3.878687,2.5778 7,7.841 7,12.8137 0,1.491 -0.497355,2.891 -1.15625,4.3441 -0.525384,1.1409 -0.234386,2.6046 0.687395,3.4576 0.921782,0.8531 2.403493,1.03 3.500105,0.4177 C 72.943077,1039.9447 82,1029.5339 82,1013.7654 82,1000.1158 75.24826,991.09625 69.28125,983.45019 63.31424,975.80413 58.330492,969.67782 59,960.57314 c 0.126333,-1.69556 -1.458686,-3.31212 -3.15625,-3.21904 z m -2.28125,10.40719 c 1.673763,7.61262 6.493708,13.60242 11,19.37674 C 70.474581,994.7137 76,1002.0492 76,1013.7654 c 0,11.1325 -4.895189,18.352 -13.125,24.1897 -0.31088,-7.741 -4.834257,-15.1134 -11.59375,-18.3142 -0.798006,-0.3769 -1.764494,-0.3769 -2.5625,0 -6.753875,3.2031 -11.282608,10.5747 -11.59375,18.3142 C 28.898668,1032.1129 24,1024.8846 24,1013.7654 c 0,-10.6298 4.582943,-21.94073 12.125,-30.34646 1.761626,5.27701 5.302371,8.96033 9.28125,11.46978 0.990119,0.6213 2.350339,0.58861 3.309472,-0.0795 0.959133,-0.66815 1.461294,-1.93281 1.221778,-3.07699 -1.213603,-5.75061 -1.889166,-10.18857 -1,-14.50131 0.602468,-2.92216 2.013385,-5.97802 4.625,-9.46959 z" />
      </svg>
      <span class="btm-nav-label">Hot</span>
    </button>
    <button v-else-if="site.postSort == 'Active'" @click="toggleSortSelector">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"
        viewBox="10 955 75 80" class="w-20 h-full stroke-current fill-current">
        <path
          d="m 44.8125,974.38522 a 2.0002,2.0002 0 0 0 -1.75,1.53125 l -7.9375,33.53123 -5.46875,-8.1875 A 2.0002,2.0002 0 0 0 28,1000.354 l -20,0 a 2.0002,2.0002 0 1 0 0,4 l 18.9375,0 7.40625,11.125 a 2.0002,2.0002 0 0 0 3.59375,-0.6563 l 6.75,-28.49998 7.34375,42.40618 a 2.0002,2.0002 0 0 0 3.90625,0.094 l 7.9375,-33.53118 5.46875,8.18748 A 2.0002,2.0002 0 0 0 71,1004.3855 l 21,-0.031 a 2.0002,2.0002 0 1 0 0,-4 l -19.9375,0.031 -7.40625,-11.12498 a 2.0002,2.0002 0 0 0 -3.59375,0.65625 l -6.75,28.53123 -7.34375,-42.40623 a 2.0002,2.0002 0 0 0 -2.15625,-1.65625 z" />
      </svg>
      <span class="btm-nav-label">Active</span>
    </button>

    <!-- <button>
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 -15 52.6699 74.729" class="stroke-current fill-current w-20 h-full">
        <path
          d="M29.2295,7.2754V0L12.0957,9.8936l17.1338,9.8926v-6.7764C39.2549,14.4258,47,23.0381,47,33.4482  c0,11.3945-9.2705,20.665-20.665,20.665s-20.665-9.2705-20.665-20.665c0-3.0195,0.6338-5.9277,1.8857-8.6406  c0.6553-1.4219,0.0342-3.1064-1.3867-3.7617c-1.4219-0.6523-3.1055-0.0342-3.7617,1.3867C0.8105,25.8965,0,29.6025,0,33.4482  c0,14.5205,11.8145,26.335,26.335,26.335s26.335-11.8145,26.335-26.335C52.6699,19.9062,42.3926,8.7217,29.2295,7.2754z" />
      </svg>
      <span class="btm-nav-label">Refresh</span>
    </button> -->

    <button>
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"
        stroke="currentColor" fill="currentColor" viewBox="0 -30 128 160" class="fill-current w-20 h-full text-gray-400">
        <path d="M22,67v-6c0-1.7-1.3-3-3-3s-3,1.3-3,3v6c0,1.7,1.3,3,3,3S22,68.7,22,67z" />
        <path
          d="M37.4,104.1l5.2,3c0.5,0.3,1,0.4,1.5,0.4c1,0,2-0.5,2.6-1.5c0.8-1.4,0.3-3.3-1.1-4.1l-5.2-3c-1.4-0.8-3.3-0.3-4.1,1.1  C35.5,101.4,36,103.3,37.4,104.1z" />
        <path
          d="M91.7,100c-0.8-1.4-2.7-1.9-4.1-1.1l-5.2,3c-1.4,0.8-1.9,2.7-1.1,4.1c0.6,1,1.6,1.5,2.6,1.5c0.5,0,1-0.1,1.5-0.4l5.2-3  C92,103.3,92.5,101.4,91.7,100z" />
        <path d="M112,67v-6c0-1.7-1.3-3-3-3s-3,1.3-3,3v6c0,1.7,1.3,3,3,3S112,68.7,112,67z" />
        <path
          d="M90.6,23.9l-5.2-3c-1.4-0.8-3.3-0.3-4.1,1.1c-0.8,1.4-0.3,3.3,1.1,4.1l5.2,3c0.5,0.3,1,0.4,1.5,0.4c1,0,2-0.5,2.6-1.5  C92.5,26.6,92,24.7,90.6,23.9z" />
        <path
          d="M42.6,20.9l-5.2,3c-1.4,0.8-1.9,2.7-1.1,4.1c0.6,1,1.6,1.5,2.6,1.5c0.5,0,1-0.1,1.5-0.4l5.2-3c1.4-0.8,1.9-2.7,1.1-4.1  C45.9,20.6,44,20.1,42.6,20.9z" />
        <path
          d="M64,26c7.2,0,13-5.8,13-13S71.2,0,64,0S51,5.8,51,13S56.8,26,64,26z M64,6c3.9,0,7,3.1,7,7s-3.1,7-7,7s-7-3.1-7-7  S60.1,6,64,6z" />
        <path
          d="M64,128c7.2,0,13-5.8,13-13s-5.8-13-13-13s-13,5.8-13,13S56.8,128,64,128z M64,108c3.9,0,7,3.1,7,7s-3.1,7-7,7s-7-3.1-7-7  S60.1,108,64,108z" />
        <path
          d="M96,90c0,7.2,5.8,13,13,13s13-5.8,13-13s-5.8-13-13-13S96,82.8,96,90z M109,83c3.9,0,7,3.1,7,7s-3.1,7-7,7s-7-3.1-7-7  S105.1,83,109,83z" />
        <path
          d="M109,25c-7.2,0-13,5.8-13,13s5.8,13,13,13s13-5.8,13-13S116.2,25,109,25z M109,45c-3.9,0-7-3.1-7-7s3.1-7,7-7s7,3.1,7,7  S112.9,45,109,45z" />
        <path
          d="M19,25c-7.2,0-13,5.8-13,13s5.8,13,13,13s13-5.8,13-13S26.2,25,19,25z M19,45c-3.9,0-7-3.1-7-7s3.1-7,7-7s7,3.1,7,7  S22.9,45,19,45z" />
        <path
          d="M6,90c0,7.2,5.8,13,13,13s13-5.8,13-13s-5.8-13-13-13S6,82.8,6,90z M19,83c3.9,0,7,3.1,7,7s-3.1,7-7,7s-7-3.1-7-7  S15.1,83,19,83z" />
        <path
          d="M67,88c0-1.7-1.3-3-3-3c-5.9,0-11.3-2.4-15.3-6.6c-4-4.3-6-9.9-5.7-15.7c0.7-10.5,9.1-19,19.6-19.6  c5.9-0.4,11.5,1.6,15.7,5.7c4.3,4,6.6,9.4,6.6,15.3v2c0,2.2-1.8,4-4,4s-4-1.8-4-4v-2c0-7.2-5.8-13-13-13s-13,5.8-13,13s5.8,13,13,13  c3.8,0,7.2-1.7,9.6-4.3c1.8,2,4.5,3.3,7.4,3.3c5.5,0,10-4.5,10-10v-2c0-7.4-3.1-14.6-8.5-19.7c-5.5-5.2-12.7-7.7-20.2-7.3  c-13.5,0.8-24.4,11.7-25.2,25.2c-0.5,7.5,2.1,14.7,7.3,20.2C49.4,87.9,56.6,91,64,91C65.7,91,67,89.7,67,88z M64,71  c-3.9,0-7-3.1-7-7s3.1-7,7-7s7,3.1,7,7S67.9,71,64,71z" />
      </svg>
      <span class="btm-nav-label">Communities</span>
    </button>
    <button>
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"
        viewBox="0 -10 30 40" class="stroke-current fill-current w-20 h-20">
        <g transform="matrix(1,0,0,1,-384,-384)">
          <path
            d="M400,406C397.792,406 396,407.792 396,410C396,412.208 397.792,414 400,414C402.208,414 404,412.208 404,410C404,407.792 402.208,406 400,406ZM400,408C401.104,408 402,408.896 402,410C402,411.104 401.104,412 400,412C398.896,412 398,411.104 398,410C398,408.896 398.896,408 400,408ZM400,396C397.792,396 396,397.792 396,400C396,402.208 397.792,404 400,404C402.208,404 404,402.208 404,400C404,397.792 402.208,396 400,396ZM400,398C401.104,398 402,398.896 402,400C402,401.104 401.104,402 400,402C398.896,402 398,401.104 398,400C398,398.896 398.896,398 400,398ZM400,386C397.792,386 396,387.792 396,390C396,392.208 397.792,394 400,394C402.208,394 404,392.208 404,390C404,387.792 402.208,386 400,386ZM400,388C401.104,388 402,388.896 402,390C402,391.104 401.104,392 400,392C398.896,392 398,391.104 398,390C398,388.896 398.896,388 400,388Z" />
        </g>
      </svg>
      <span class="btm-nav-label">More</span>
    </button>
  </div>
</template>

<script setup>
import { ref } from 'vue'
import ViewSelector from './ViewSelector.vue'
import SortSelector from './SortSelector.vue'
import { useSiteStore } from '@/stores/site'
import { useOverlayStore } from '@/stores/overlay'
import { onClickOutside } from '@vueuse/core'

const site = useSiteStore()
const overlay = useOverlayStore()
const viewSelectorEl = ref(null)
const sortSelectorEl = ref(null)

let showViewSelector = ref(false)
let showSortSelector = ref(false)

function toggleViewSelector() {
  showSortSelector.value = false
  if (showViewSelector.value) {
    showViewSelector.value = false
    overlay.visible = false
  } else {
    showViewSelector.value = true
    overlay.visible = true
  }
}

function toggleSortSelector() {
  showViewSelector.value = false
  if (showSortSelector.value) {
    showSortSelector.value = false
    overlay.visible = false
  } else {
    showSortSelector.value = true
    overlay.visible = true
  }
}

function viewUpdated() {
  overlay.visible = false
  showViewSelector.value = false
  site.setPostsStale(true)
}

function sortUpdated() {
  overlay.visible = false
  showSortSelector.value = false
  site.setPostsStale(true)
}

onClickOutside(viewSelectorEl, () => toggleViewSelector())
onClickOutside(sortSelectorEl, () => toggleSortSelector())

</script>